<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>PANDORA</title>

  <!-- Bootstrap css -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <link rel="stylesheet" href="../../estilos/pandora_estilos.css">
</head>
<body>
  <main id="main-doc">
    <!-- Navegation -->
    <div class="container-fluid py-lg-0 mt-3">  
      <div class='row no-gutters'>
        
        <div class='col-sm-4 col-md-4 col-xl-2'>
          <nav id="navbar" role="tablist" class="nav nav-tabs navbar-vertical-expand-lg navbar-light bg-light ml-2'">
            <div class="container-xl">
              <header class="title-documentation"><h2>PANDORA</h2></header>
              <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="#introduction">Introduction</a></li> 
              </ul>
            </div>
          </nav>
        </div>
  
        <div class='col-sm-8 col-md-8 col-xl-10 border-left'> 
          <div data-spy="scroll" data-target="#nav-bar" data-offset="0" class="scrollText">
          
          <section class="main-section" id="introduction">
            <header><h2>PANDORA</h2></header>
          </section>
          
          <section class="main-section" id="variables">
          </section>
          <br />

          <div class='text-center'>
            <div id="chat-wrapper">
          </div>

          <div id="input-wrapper">
            <div class="list-group mb-3 text-center">
              <form id="form-pergunta">
                <div class="input-group mb-3">
                  <input type="text" class="form-control" placeholder="Digite Sua Pergunta" aria-label="Recipient's username" aria-describedby="button-addon2" id="pergunta">
                  <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="button" id="pergunta">Aperte</button>
                  </div>
                </div>
            </div>
          </div>

          <div class="list-group mb-3 text-center">
            <p id="resposta"></p>
          </div>

          </section>
        </div>
      </div>
    </div>
  </main>
  </body>

  <script>
    $(document).ready(function() {
      $('#form-pergunta').submit(function(event) {
        event.preventDefault();

        const perguntaInput = $('#pergunta');
        const pergunta = perguntaInput.val();

        const resposta = obterResposta(pergunta);

        const chatWrapper = $('#chat-wrapper');
        const mensagem = $('<div class="mensagem"></div>');
        const perguntaElement = $('<div class="pergunta" id="pergunta-fixa"></div>').text('Pergunta: ' + pergunta);
        const respostaElement = $('<div class="resposta"></div>').text('Resposta: ' + resposta);

        mensagem.append(perguntaElement);
        mensagem.append(respostaElement);

        chatWrapper.append(mensagem);

        perguntaInput.val('');
      });
    });
  </script>


  <script>
    function obterResposta(pergunta) {
      // Lógica para gerar a resposta aqui
      // ...

      // Exemplo simples de mapeamento de perguntas para respostas
      const respostas = {
        'Olá': 'Olá! Como posso ajudar?',
        'Qual é o seu nome?': 'Eu sou o ChatGPT!',
        'Obrigado': 'De nada! Estou aqui para ajudar.',
        'Tchau': 'Até logo! Tenha um ótimo dia!',
        // Adicione mais mapeamentos de perguntas e respostas conforme necessário
      };

      if (pergunta in respostas) {
        return respostas[pergunta];
      }

      return 'Desculpe, não entendi. Pode reformular a pergunta?';
    }

    function exibirRespostaProgressiva(resposta) {
      const respostaOutput = $('#resposta');

      let i = 0;
      const interval = setInterval(function() {
        respostaOutput.text(resposta.substring(0, i));
        i++;

        if (i > resposta.length) {
          clearInterval(interval);
        }
      }, 50);
    }

    $(document).ready(function() {
      $('#form-pergunta').submit(function(event) {
        event.preventDefault();

        const perguntaInput = $('#pergunta');
        const pergunta = perguntaInput.val();

        const resposta = obterResposta(pergunta);
        exibirRespostaProgressiva(resposta);

        perguntaInput.val('');
      });
    });
  </script>
</html>